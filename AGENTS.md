# Repository Guidelines

## Project Structure & Module Organization

- `orval.config.ts` defines the generation pipeline.
- `openapi.yaml` is the spec source; change it to affect output.
- `src/` is ignored and always regenerated by `npm run generate`.

## Build, Test, and Development Commands

- `npm install` installs dependencies.
- `npm run generate` runs orval and regenerates `src/api/**`.
- `npm run lint` runs ESLint across the repo.
- `npm run clean` removes `node_modules`.

## Orval Configuration Overview

- `orval.config.(js|mjs|ts)` at the repo root with `defineConfig`.
- Categories: Input / Output / Hooks.
- Output under `src/` (ignored, regenerated).

Basic:

```ts
import { defineConfig } from "orval";
export default defineConfig({
  openapi: {
    input: "./openapi.yaml",
    output: "./openapi.ts",
    hooks: { afterAllFilesWrite: "prettier --write" },
  },
});
```

Multi-spec:

```ts
import { defineConfig } from "orval";
export default defineConfig({
  openapi: { input: "./openapi.yaml", output: "./src/api/openapi.ts" },
  users: { input: "./users.yaml", output: "./src/api/users.ts" },
});
```

```
https://orval.dev/docs/reference/configuration/input
https://orval.dev/docs/reference/configuration/output
```

## Orval Hooks (afterAllFilesWrite)

- Hooks run scripts on generation events.
- Type: `String | String[] | Function | Object`.
- Runs after generation; receives file paths.
- `injectGeneratedDirsAndFiles: false` disables file injection.

Example:

```ts
import { defineConfig } from "orval";
export default defineConfig({
  openapi: {
    hooks: { afterAllFilesWrite: "prettier --write" },
  },
});
```

Disable injection:

```ts
import { defineConfig } from "orval";
export default defineConfig({
  openapi: {
    hooks: {
      afterAllFilesWrite: {
        command: "prettier --write .",
        injectGeneratedDirsAndFiles: false,
      },
    },
  },
});
```

## Orval Input Options

- `target`: spec path or URL.
- `override.transformer`: transform spec before generation.
- `filters`: include/exclude by tags or schemas.
- `parserOptions.headers`: per-domain headers for protected URLs.

## Orval Output Options (Short)

- `target`, `schemas`, `operationSchemas`: output locations for clients and types.
- `client`, `httpClient`, `mode`: generator type, runtime, and file layout.
- `baseUrl`, `mock`, `docs`: runtime URL plus optional mocks/docs.
- `clean`, `prettier`, `biome`, `override`: cleanup/format and customize output.

## OpenAPI 3.0 (Swagger) References

```
https://swagger.io/docs/specification/v3_0/about/
https://swagger.io/docs/specification/v3_0/basic-structure/
https://swagger.io/docs/specification/v3_0/api-host-and-base-path/
https://swagger.io/docs/specification/v3_0/media-types/
https://swagger.io/docs/specification/v3_0/paths-and-operations/
https://swagger.io/docs/specification/v3_0/describing-parameters/
https://swagger.io/docs/specification/v3_0/serialization/
https://swagger.io/docs/specification/v3_0/describing-request-body/describing-request-body/
https://swagger.io/docs/specification/v3_0/describing-request-body/file-upload/
https://swagger.io/docs/specification/v3_0/describing-request-body/multipart-requests/
https://swagger.io/docs/specification/v3_0/describing-responses/
https://swagger.io/docs/specification/v3_0/data-models/data-models/
https://swagger.io/docs/specification/v3_0/data-models/data-types/
https://swagger.io/docs/specification/v3_0/data-models/enums/
https://swagger.io/docs/specification/v3_0/data-models/dictionaries/
https://swagger.io/docs/specification/v3_0/data-models/oneof-anyof-allof-not/
https://swagger.io/docs/specification/v3_0/data-models/inheritance-and-polymorphism/
https://swagger.io/docs/specification/v3_0/data-models/representing-xml/
https://swagger.io/docs/specification/v3_0/data-models/keywords/
https://swagger.io/docs/specification/v3_0/adding-examples/
https://swagger.io/docs/specification/v3_0/links/
https://swagger.io/docs/specification/v3_0/authentication/
https://swagger.io/docs/specification/v3_0/callbacks/
https://swagger.io/docs/specification/v3_0/components/
https://swagger.io/docs/specification/v3_0/using-ref/
https://swagger.io/docs/specification/v3_0/api-general-info/
https://swagger.io/docs/specification/v3_0/grouping-operations-with-tags/
https://swagger.io/docs/specification/v3_0/openapi-extensions/
```

## Swagger 2.0 References

```
https://swagger.io/docs/specification/v2_0/what-is-swagger/
https://swagger.io/docs/specification/v2_0/basic-structure/
https://swagger.io/docs/specification/v2_0/api-host-and-base-path/
https://swagger.io/docs/specification/v2_0/mime-types/
https://swagger.io/docs/specification/v2_0/paths-and-operations/
https://swagger.io/docs/specification/v2_0/describing-parameters/
https://swagger.io/docs/specification/v2_0/describing-request-body/
https://swagger.io/docs/specification/v2_0/file-upload/
https://swagger.io/docs/specification/v2_0/describing-responses/
https://swagger.io/docs/specification/v2_0/authentication/authentication/
https://swagger.io/docs/specification/v2_0/authentication/api-keys/
https://swagger.io/docs/specification/v2_0/authentication/basic-authentication/
https://swagger.io/docs/specification/v2_0/adding-examples/
https://swagger.io/docs/specification/v2_0/enums/
https://swagger.io/docs/specification/v2_0/grouping-operations-with-tags/
https://swagger.io/docs/specification/v2_0/swagger-extensions/
```

## Coding Style & Naming Conventions

- Follow the existing TypeScript style and ESLint rules in `eslint.config.ts`.
- Keep generated code under `src/api/` and avoid manual edits there.
